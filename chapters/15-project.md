# 総合演習：メモアプリ完成とリリース

> 提出ブランチ：`feature/15-project`（PRのbase：`develop`）

この総合演習は「作れた」で終わらせず、**案件に参画して改善できる状態**まで引き上げるための最終章です。
これまでの章で学んだ内容を組み合わせ、シンプルメモアプリを**完成形**に近づけ、リリース可能な状態に仕上げます。

---

## 前提

- [Unit 7: 総合演習（ガイド）](./07-unit7-guide.md) を読んでいる
- [アプリ公開と運用](./14-publishing.md) を完了し、Release/チェックリストの考え方がわかる

## この章でできるようになること

- [ ] メモの追加 / 編集 / 削除ができる
- [ ] 一覧表示と作成/編集画面を用意する
- [ ] データをローカルに永続化する（Room / DataStore）
- [ ] 画面状態（Empty/Loading/Error）を管理する
- [ ] テスト（ユニット/Compose UI）の最低限を用意する（回帰防止）
- [ ] チーム開発の流儀でPRを出せる（説明/確認手順/リスク）
- [ ] リリース前チェックを完了する（Debug/Release差分も確認）

**所要時間の目安：3時間**

---

## 成果物（Definition of Done）

最終的に、以下が揃っている状態を目指します。

- 動くアプリ（主要導線が一通り通る）
- 主要機能に最低限のテストがある
- 変更点が説明できるPRが作れる（履歴が残る）
- Releaseビルドでも動作確認できている

---

## 要件（MVP：必須）

### 画面

- 一覧：作成日時順にメモを表示（空状態も用意）
- 作成/編集：タイトル・本文を入力して保存（入力エラーを扱う）

### 機能

- 追加 / 更新 / 削除（Undoがあると尚良い）
- 空状態の表示（メモが0件のとき）
- 入力バリデーション（例：タイトルが空なら保存不可 or エラー表示）

---

## 実務っぽい進め方（おすすめ）

総合演習は「一気に作る」より、**小さなチケットに分けてPRで積む**のが伸びます。

例（チケット分割）：

1. `MVP: memo list UI`
2. `MVP: add/edit screen`
3. `Data: Room persistence`
4. `UX: empty/error states`
5. `Tests: ViewModel unit tests`
6. `Release: build + checklist`

---

## 推奨構成（例）

- `ui/`：Composable / Screen
- `viewmodel/`：UI state / events
- `data/`：Repository / Room / DataStore

---

## 実装の進め方（推奨：順番が大事）

1. データモデルを確定する（Memo）
2. 永続化を実装する（Room か DataStore）
3. Repository を作り、UI から切り離す
4. 画面を揃える（一覧・作成/編集）
5. ナビゲーションを接続する（保存後の遷移・戻る）
6. 失敗系を揃える（空/エラー/入力エラー/再試行）
7. テストを追加する（最低限：状態遷移と主要導線）
8. 仕上げ（テーマ、パフォーマンス、アクセシビリティ）

---

## 必須：テストの最低ライン

実務で一番見られます。

- ViewModelのユニットテスト（追加/編集/削除の状態遷移）
- 主要導線のCompose UIテスト（最低1本）
- バグを直したなら回帰防止テスト（可能なら）

---

## 発展（任意：実務寄り）

時間が許すなら、Unit 9〜11 の内容をこのアプリに入れると一気に実務レベルが上がります。

- マルチモジュール化（`core`/`feature` 分割）: [マルチモジュール設計（単一→分割）](./20-multi-module.md)
- タブレット対応（2ペイン）: [画面サイズ対応（スマホ/タブレット）](./21-adaptive-ui.md)
- バックアップ同期（WorkManager）: [WorkManager（バックグラウンド処理）](./22-workmanager.md)
- View相互運用（WebView等）: [ComposeとViewの相互運用](./23-compose-view-interop.md)
- アクセシビリティ/多言語: [アクセシビリティと多言語対応](./24-accessibility-i18n.md)
- 秘密情報/ログ/権限: [設定とセキュリティ（秘密情報/通信）](./25-security-config.md)

---

## リリース前チェックリスト

- [ ] アプリ名・アイコン・バージョン情報を確認する
- [ ] 権限が最小限になっている
- [ ] 入力・回転・バックグラウンド復帰でクラッシュしない
- [ ] `release` ビルドで動作確認する
- [ ] 公開手順は [アプリ公開と運用](./14-publishing.md) を参照する

---

お疲れさまでした！これで **Androidアプリ開発の基礎〜実践** まで学べるカリキュラムが完成です。

---

## 演習

### 1) PRで積む（必須）

- [ ] 3本以上のPRに分けて積む（例：UI/データ/テスト/リリース）
- [ ] 各PRに「目的/変更内容/確認手順/リスク」を書く

### 2) 自己採点（Rubric）

| 観点 | 0（未） | 1（最低限） | 2（実務水準） |
|---|---|---|---|
| 機能 | 導線が通らない | MVPが通る | 失敗系/入力エラーまで揃う |
| 設計 | UIにロジックが混在 | ViewModelで分離 | Repository/例外設計まで整理 |
| 永続化 | 再起動で消える | Room/DataStoreで保存 | オフラインの整合性を意識できる |
| テスト | なし | 状態遷移 or UIを1本 | 重要導線+回帰防止が積める |
| リリース | Debugのみ | Releaseで動作確認 | 事故りやすい点（ログ/設定/権限）を潰す |
| PR | 説明が弱い | 要点/確認手順あり | 影響範囲/確認手順/リスクまで書ける |

---

## AIに聞いてみよう

### 質問テンプレ（コピペ）

```text
【前提】
総合演習（メモアプリ）を完成させています（この章のコンテキストは共有済み）。

【やりたいこと】
（例：MVPを満たしたい / 設計を整えたい / テストを入れたい / リリース前チェックを通したい）

【今の状態】
- できている機能：
- できていない機能：
- 画面とデータの流れ（簡単でOK）：
- 該当コード/差分：

【欲しい回答】
- チケット分割（PR単位）
- 各チケットの受け入れ条件
- 確認手順とリスク
```

### 質問例

```text
【質問】
この章のMVP要件を、PR単位のチケット（3〜7本）に分割して。
各チケットに「目的/受け入れ条件/確認手順/リスク」を付けて。
```

```text
【レビュー】
今の構成（ui/viewmodel/data）で、責務の境界が危ないところを指摘して。
段階的な改善案と、テスト戦略も出して。
```

```text
【テスト計画】
このアプリで最低限入れるべきテストを3〜5本提案して。
各テストの目的、守れるバグ、失敗したら疑うポイントも書いて。
```

```text
【PR文章】
このPR説明文を、レビュアーが判断しやすい形に整えて（目的/変更内容/確認手順/リスク）。
（ここにPR本文を貼る）
```

---

## 課題提出

この章には提出課題があります。

1. 上記の演習を完了する
2. GitHub で `feature/15-project` ブランチを作成し、PRを作成
3. [AI総合レビューツール](https://ai.studio/apps/drive/1AMqIqU4Bio4te7AWh5dly1Qzp7CesqP9?fullscreenApplet=true) でレビューを実行
4. 問題がなければ、スプレッドシートに **PR URL** と **完了日** を記入

---

## ふりかえり

- 一番難しかったチケットは何？原因は仕様/設計/実装のどこ？
- 次に同じアプリを作るなら、最初に何を決める？（データ/状態/境界）
- 6ヶ月で伸びた実感があるのは、知識/実装/運用（PR）どれ？

---

## 次の章

次は [Unit 8: 実務参画の基本（ガイド）](./08-unit8-guide.md) に進み、実務で強い「読む・直す・壊さない」を鍛えましょう。
