# 総合演習：メモアプリ完成とリリース

この総合演習は「作れた」で終わらせず、**案件に参画して改善できる状態**まで引き上げるための最終章です。
これまでの章で学んだ内容を組み合わせ、シンプルメモアプリを**完成形**に近づけ、リリース可能な状態に仕上げます。

---

## この章の目標

- [ ] メモの追加 / 編集 / 削除ができる
- [ ] 一覧表示と作成/編集画面を用意する
- [ ] データをローカルに永続化する（Room / DataStore）
- [ ] 画面状態（Empty/Loading/Error）を管理する
- [ ] テスト（ユニット/Compose UI）の最低限を用意する（回帰防止）
- [ ] チーム開発の流儀でPRを出せる（説明/スクショ/テスト結果）
- [ ] リリース前チェックを完了する（Debug/Release差分も確認）

**所要時間の目安：3時間**

---

## 成果物（Definition of Done）

最終的に、以下が揃っている状態を目指します。

- 動くアプリ（主要導線が一通り通る）
- 主要機能に最低限のテストがある
- 変更点が説明できるPRが作れる（履歴が残る）
- Releaseビルドでも動作確認できている

---

## 要件（MVP：必須）

### 画面

- 一覧：作成日時順にメモを表示（空状態も用意）
- 作成/編集：タイトル・本文を入力して保存（入力エラーを扱う）

### 機能

- 追加 / 更新 / 削除（Undoがあると尚良い）
- 空状態の表示（メモが0件のとき）
- 入力バリデーション（例：タイトルが空なら保存不可 or エラー表示）

---

## 実務っぽい進め方（おすすめ）

総合演習は「一気に作る」より、**小さなチケットに分けてPRで積む**のが伸びます。

例（チケット分割）：

1. `MVP: memo list UI`
2. `MVP: add/edit screen`
3. `Data: Room persistence`
4. `UX: empty/error states`
5. `Tests: ViewModel unit tests`
6. `Release: build + checklist`

---

## 推奨構成（例）

- `ui/`：Composable / Screen
- `viewmodel/`：UI state / events
- `data/`：Repository / Room / DataStore

---

## 実装の進め方（推奨：順番が大事）

1. データモデルを確定する（Memo）
2. 永続化を実装する（Room か DataStore）
3. Repository を作り、UI から切り離す
4. 画面を揃える（一覧・作成/編集）
5. ナビゲーションを接続する（保存後の遷移・戻る）
6. 失敗系を揃える（空/エラー/入力エラー/再試行）
7. テストを追加する（最低限：状態遷移と主要導線）
8. 仕上げ（テーマ、パフォーマンス、アクセシビリティ）

---

## 必須：テストの最低ライン

「2年目」判定で一番見られます。

- ViewModelのユニットテスト（追加/編集/削除の状態遷移）
- 主要導線のCompose UIテスト（最低1本）
- バグを直したなら回帰防止テスト（可能なら）

---

## 発展（任意：実務寄り）

時間が許すなら、Unit 9〜11 の内容をこのアプリに入れると一気に実務レベルが上がります。

- マルチモジュール化（`core`/`feature` 分割）: `chapters/20-multi-module.md`
- タブレット対応（2ペイン）: `chapters/21-adaptive-ui.md`
- バックアップ同期（WorkManager）: `chapters/22-workmanager.md`
- View相互運用（WebView等）: `chapters/23-compose-view-interop.md`
- アクセシビリティ/多言語: `chapters/24-accessibility-i18n.md`
- 秘密情報/ログ/権限: `chapters/25-security-config.md`

---

## リリース前チェックリスト

- [ ] アプリ名・アイコン・バージョン情報を確認する
- [ ] 権限が最小限になっている
- [ ] 入力・回転・バックグラウンド復帰でクラッシュしない
- [ ] `release` ビルドで動作確認する
- [ ] 公開手順は `chapters/14-publishing.md` を参照する

---

お疲れさまでした！これで **Androidアプリ開発の基礎〜実践** まで学べるカリキュラムが完成です。
