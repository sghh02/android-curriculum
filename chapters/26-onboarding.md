# 既存プロジェクト参画（読む・直す・壊さない）

初学者が案件に参画して最初に詰まるのは、Androidの知識というより **「既存コードの読み方」と「安全な変更の出し方」**です。
この章では、Compose中心・Hilt・REST・単一/マルチモジュールどちらにも対応できるように、参画初週の動き方を“型”としてまとめます。

---

## 前提

- `chapters/08-unit8-guide.md` を読んでいる

## この章でできるようになること

- [ ] プロジェクトをビルドして起動できる（Debug/Releaseの違いも把握）
- [ ] エントリポイント（起動→画面表示）を辿って、構成を説明できる
- [ ] 変更影響を最短で当てられる（どこを直すべきか特定できる）
- [ ] 小さな修正をPRとして出し、レビューを通せる
- [ ] “壊さないための確認” を手順として残せる

**所要時間の目安：2〜3時間**

---

## 参画初週のチェックリスト（そのまま使える）

### 1) まず動かす（最優先）

- Android Studioで開いてSyncが通る
- エミュレータ/実機で起動できる
- ログイン/初期データ取得など、主要導線が通る

**実務Tips**

- 依存関係やSDKの差で詰まったら、まず「チーム標準の環境」を確認する
- `local.properties` や `secrets` の設定が必要な場合は、手順をREADMEに残す提案をする

### 2) 構造を掴む（迷子にならない）

以下を“口で説明できる”状態にします。

- モジュール構成（単一 or `app/core/feature` など）
- 画面遷移（Navigationの入り口）
- DIの入り口（`@HiltAndroidApp`、Moduleの置き場）
- データの流れ（UI→VM→Repository→API/DB）

### 3) 入口から辿る（読む順番）

おすすめの辿り方：

1. 起動（`Application` / `MainActivity` / `setContent`）
2. NavGraph（ルートの遷移定義）
3. 画面Composable（画面の責務）
4. ViewModel（状態/イベント）
5. Repository（データ境界）
6. API/DB（実装詳細）

### 4) 1本目のPRは“小さく安全に”

最初から大きい機能追加はしません。おすすめは：

- 文言修正 + UI確認スクショ
- バグの再現手順を追記（ドキュメント改善）
- ログ/エラー表示の改善（挙動は変えない）
- 小さなテスト追加（ViewModelの状態遷移など）

---

## 変更の出し方（2年目の型）

### 影響範囲を当てる

- 変更する画面はどこか
- 使っているRepository/UseCaseは何か
- 共通部品（core/ui等）に影響するか

### 失敗系を先に考える

- ネットワーク失敗
- 空データ
- 二重送信
- 回転/復帰

### 回帰防止をセットで付ける

- バグ修正 → 可能ならテスト追加
- 仕様追加 → 状態遷移のテスト、主要導線のUIテスト

---

## 演習

以下を“実際に書ける”ことを目標にします。

1. 画面Aの表示までの経路を、ファイル名付きで説明する
2. 画面Aの入力値が、どこで検証/保存されるかを辿る
3. 小さな修正をPRとして作り、本文に「目的/確認/リスク」を書く

---

## AIに聞いてみよう

```text
【質問】
このプロジェクトに参画した前提で、コードの読み始め方を提案して。
エントリポイントからNavGraph/DI/データ層までの追い方を、チェックリストにして。
```

---

## ふりかえり

- エントリポイントから辿るとき、どこで迷子になりやすい？
- 最初のPRで「安全に出す」ために、何を最優先で揃える？
- 既存コードの理解が浅い状態で、やってはいけない変更は何？

---

## 次の章

次は `chapters/16-debugging.md` に進み、調査→修正→回帰防止の型を身につけましょう。
